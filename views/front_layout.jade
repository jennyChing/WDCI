doctype html
html
  head
    block meta
    meta(charset='uft-8')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    meta(name='description', content='')
    meta(name='keywords', content='trytalk, CCSP, gov, speach, open')
    link(rel='stylesheet', href='/css/normalize.css')
    //- link(rel='stylesheet', href='/css/bootstrap.css')
    link(rel='stylesheet', href='/css/bootstrap.min.css')
    link(rel='stylesheet', href='/css/font-awesome.min.css')
    link(rel='stylesheet', href='/css/foundation.min.css')
    link(rel='stylesheet', href='/css/contentflow.css')
    link(rel='stylesheet', href='/css/mycontentflow.css')
    link(rel='stylesheet', href='/css/front-nav.css')
    link(rel='stylesheet', href='/css/style.css')
    link(rel='stylesheet', href='//code.jquery.com/ui/1.10.4/themes/smoothness/jquery-ui.css')






    block style

    script(type='text/javascript', src='/js/main/jquery.js')
    //- script(src='/js/app.js', type='text/javascript')
    script(type='text/javascript', src='//code.jquery.com/jquery-1.10.2.js')
    script(type='text/javascript', src='//code.jquery.com/ui/1.10.4/jquery-ui.js')
    // script(type='text/javascript', src='//code.jquery.com/mobile/1.4.2/jquery.mobile-1.4.2.min.js')
    script(type='text/javascript', src='/js/main/jquery.validate.js')
    script(type='text/javascript', src='/js/main/jquery.serializeObject.js')
    script(type='text/javascript', src='/js/main/waypoints.min.js')
    script(type='text/javascript', src='/js/fb.js')
    script(type='text/javascript', src='/js/front.js')
    script(type='text/javascript', src='/js/jquery.leanModal.min.js')
    //- script(type='text/javascript', src='/js/contentflow.js')
    //- script.
    //-   var cf = new ContentFlow('contentFlow', {reflectionColor: '#000000'});

    // script(type='text/javascript' src='/js/contentflow.js')
  body
      //- script.
    .container
      header#header
        h1#logo
          //- i.icon-spin(style='width=50px;')
            span.glyphicon.glyphicon-bullhorn
          a(href='/#main') WDIC

        nav#nav
          ul
            li
              a#search
                span.glyphicon.glyphicon-search
            li
              input#talk(type='text', name='talk', placeholder='Search my device', tabindex='1')
            li
              a.searchHaha Search
            li
              a(href='#hotshot') About WDCI
            li
              a(href='#faq') Add device

            - if (!user)
              li

                fb:login-button(id='login', scope='public_profile, email', onlogin='checkLoginState();')
                a(id='username', href='')
            - else
              li
                p=user.email
              li
                a(href='/logout') 登出
    //- section
      .row
        script(src='http://d3js.org/d3.v3.min.js')
        script
          var margin = {top: 20, right: 20, bottom: 30, left: 40},
              width = 960 - margin.left - margin.right,
              height = 500 - margin.top - margin.bottom;
          var x = d3.scale.ordinal()
              .rangeRoundBands([0, width], .1)
          var y = d3.scale.linear()
              .rangeRound([height, 0])
          var color = d3.scale.ordinal()
              .range(['#98abc5', '#8a89a6', '#7b6888', '#6b486b', '#a05d56', '#d0743c', '#ff8c00'])
          var xAxis = d3.svg.axis()
              .scale(x)
              .orient('bottom')
          var yAxis = d3.svg.axis()
              .scale(y)
              .orient('left')
              .tickFormat(d3.format('.2s'))
          //- var svg = d3.select('body').append('svg')
          //-     .attr('width', width + margin.left + margin.right)
          //-     .attr('height', height + margin.top + margin.bottom)
          //-   .append('g')
          //-     .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
          //- d3.csv('data.csv', function(error, data) {
          //-   color.domain(d3.keys(data[0]).filter(function(key) { return key !== 'State'; }));
          //-   data.forEach(function(d) {
          //-     var y0 = 0;
          //-     d.ages = color.domain().map(function(name) { return {name: name, y0: y0, y1: y0 += +d[name]}; });
          //-     d.total = d.ages[d.ages.length - 1].y1;
          //-   });
          //-   data.sort(function(a, b) { return b.total - a.total; });
          //-   x.domain(data.map(function(d) { return d.State; }));
          //-   y.domain([0, d3.max(data, function(d) { return d.total; })]);
          //-   svg.append('g')
          //-       .attr('class', 'x axis')
          //-       .attr('transform', 'translate(0,' + height + ')')
          //-       .call(xAxis);
          //-   svg.append('g')
          //-       .attr('class', 'y axis')
          //-       .call(yAxis)
          //-     .append('text')
          //-       .attr('transform', 'rotate(-90)')
          //-       .attr('y', 6)
          //-       .attr('dy', '.71em')
          //-       .style('text-anchor', 'end')
          //-       .text('Population');
          //-   var state = svg.selectAll('.state')
          //-       .data(data)
          //-     .enter().append('g')
          //-       .attr('class', 'g')
          //-       .attr('transform', function(d) { return 'translate(' + x(d.State) + ',0)'; });
          //-   state.selectAll('rect')
          //-       .data(function(d) { return d.ages; })
          //-     .enter().append('rect')
          //-       .attr('width', x.rangeBand())
          //-       .attr('y', function(d) { return y(d.y1); })
          //-       .attr('height', function(d) { return y(d.y0) - y(d.y1); })
          //-       .style('fill', function(d) { return color(d.name); });
          //-   var legend = svg.selectAll('.legend')
          //-       .data(color.domain().slice().reverse())
          //-     .enter().append('g')
          //-       .attr('class', 'legend')
          //-       .attr('transform', function(d, i) { return 'translate(0,' + i * 20 + ')'; });
          //-   legend.append('rect')
          //-       .attr('x', width - 18)
          //-       .attr('width', 18)
          //-       .attr('height', 18)
          //-       .style('fill', color);
          //-   legend.append('text')
          //-       .attr('x', width - 24)
          //-       .attr('y', 9)
          //-       .attr('dy', '.35em')
          //-       .style('text-anchor', 'end')
          //-       .text(function(d) { return d; });
          //- });


    section#main
      section.flowEverything#hothot
        .row
          header
            h1 How does is work?
            h4 Simple gesture to control all your devices
            #contentFlow.ContentFlow
              .loadIndicator
                .indicator
              .flow
                .item
                  img.content(src='https://dl.dropboxusercontent.com/u/79375953/pictureForWeb/180327033345.jpg')
                  .caption selectButton
                .item
                  img.content(src='https://dl.dropboxusercontent.com/u/79375953/Photo%2012-10-4%20%E4%B8%8B%E5%8D%884%2057%2032.jpg')
                  .caption remove
                .item
                  img.content(src='https://dl.dropboxusercontent.com/u/79375953/Folder.jpg')
                  .caption recovery-recovery
                .item
                  img.content(src='http://images.jrj.com.cn/2009/04/20090407130620812.jpg')
                  .caption takeButton
                .item
                  img.content(src='http://www.planeboy.net/wp-content/uploads/2010/05/jobs.jpg')
                  .caption takeButton
                .item
                  img.content(src='http://photocdn.sohu.com/20080409/Img256185997.jpg')
                  .caption takeButton
                .item
                  img.content(src='http://a1.att.hudong.com/53/61/01000000000000119086153649953.jpg')
                  .caption takeButton
                .item
                  img.content(src='http://image2.sina.com.cn/IT/it/2007-04-19/U1788P2T1D1474071F9DT20070419143346.jpg')
                  .caption takeButton
              .globalCaption
              .scrollbar
                .slider
                  .position





    div#container
      div#modal.popupContainer(style='display:none;')
        header.popupHeader
          span.header_title Login
          span.modal_close
            img(src='/images/close-button.png')
            i.fa.fa-times
        section.popupBody
          div.social_login
            div.clearfix
              a.social_box.fb(href='#')
                span.icon
                  i.fa.fa-facebook
                span.icon_title Connect with Facebook
      //- div#show-detail.popupContainer-talk-detail(style='display:none;')
        header.popupHeader
          span.header_title 詳細資訊
          span.modal_close
            img(src='/images/close-button.png')
            i.fa.fa-times
        section.popupBody
          div.talk-image
            img(id='talk-image-img', src='https://fbcdn-sphotos-b-a.akamaihd.net/hphotos-ak-xpa1/t1.0-9/72807_736689643016995_772469513_n.jpg')
          div.talk-detail
            h3#detail-speaker 演講者：
            h3#detail-topic 演講主題：
            h3#detail-dest 演講地點：
            h3#detail-info 演講資訊：
            button.btn-vote.btn.btn-info(type='button') Vote
    section#faq.black
      .row
        header
          h1 Connect your own devices
          h4 Connect the data on your devices and add them to your control list
        .column.medium-8.small-10.small-centered
          form#subForm.sign-up-form.clearfix

            input#name(type='text', name='name', placeholder='My device name')
            select(name='selectCategory', id='select_category')
              option(value=' ' , selected='selected', disabled='disabled', id='placeholder') Select category
              option(value='1') Light
              option(value='2') Rice Cooker
              option(value='3') Air Condition
            select(name='selectStatus', id='select_status')
                option(value=' ' , selected='selected', disabled='disabled', id='lightOption') Select status
                option(value='0') Off
                option(value='1') On
                option(value='2') Other

            //- if ('#select_category'.value===2)
              select(name='selectStatus', id='select_status')
                option(value=' ' , selected='selected', disabled='disabled', id='lightOption') Select status
                option(value='0') Off
                option(value='1') On
                option(value='2') time select
            //-else
            //- show different selections for modules
            //-if select_category.option === Light

            //-if select_category.option === Rice Cooker
              select(name='selectStatus', id='select_status')
                option(value=' ' , selected='selected', disabled='disabled', id='lightOption') Select status
                option(value='0') Off
                option(value='1') On
                option(value='time') Set cook time
            //-if select_category.option === Air Condition
              select(name='selectStatus', id='select_status')
                option(value=' ' , selected='selected', disabled='disabled', id='lightOption') Select status
                option(value='0') Off
                option(value='1') On
                option(value='2') Set temperature
            #base
            input#submit.button.radius(style='text-align:center;',type='submit', value='Submit', tabindex='3')

            p#response
            script(src='http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js')
            script.
              $('body').on('click','#submit',function(e){
                e.preventDefault();
                var name = $('#name').val();
                var category = $('#select_category').val();
                //var category

                $.post("createTalk",{
                  name: name
                  status: status
                },function(msg){
                  console.log( "Data Saved: " + msg);
                  $('#response').html(msg);
                  $('#response').html("Your device is saved.");

                  }
              });

              $('#select_status').hide();

              if('#select_category'.val()===2){
                $("#select_status").hide();
              }else{
                $("#select_status").hide();
                }
              });
              else
            script.
            //-input#status(type='text', name='status', placeholder='My device status')
            //-input#category(type='text', name='category', placeholder='Select type')
            //-select(name='selectLocation', id='select_location')
              option(value=' ' , selected='selected', disabled='disabled', id='placeholder') 選擇地區
              option(value='科技') 北部
              option(value='生活') 中部
              option(value='其他') 南部
            //-input#description(type='text', name='description', placeholder='Device info')
            //-div.fileUpload.btn.btn-primary
            //-  span 上傳
            //-  input.upload#asd(type='file')
            //-input#uploadFile(placeholder='圖片路徑', disabled='disabled')
            //-img#img(src='')
            //-div#drop-files(ondragover='return false')
            //-  | 圖片預覽

    section#profile
      //- Show profile if user log in
      .row
        header
          h1.span.glyphicon.glyphicon-thumbs-up
          h1.hiUser Hello, #{userName}!
          h4 Control my devices
        #profile-content.column.medium-12.small-10.small-centered(style='margin-top:20px;')
      .container
      .row.clearfix
        .col-md-12.column
          table.table.table-bordered.table-hover
            thead.success
              tr.success
                th
                  | My device
                th
                  | Status
                th
                  | Category
                th
                  | Delete
            tbody
              tr
                td
                  | Lamp
                td
                  a(href='') 1-On
                td
                  a(href='') Category
                td
                  a(href='') Delete

              tr.active
               td
                  | Macbook
                td
                  a(href='') 2-Off
                td
                  a(href='') Category
                td
                  a(href='') Delete


        .column.medium-10.small-10.small-centered
            .loading
        //- div#QQ(style='width:200px;height:260px;position:relative;float:left;margin-left:5%;display:none;')
          img(style='width:200px; height:200px;border-radius:30px;', src='http://history.n.yam.com/news_photo/ebcnews/images/201106/M20110609914653.jpg',alt='hello!' class='img-rounded;').
          div(style='text-align:center; font-size:16px; color:#5B5B5B;  padding-top:10px;')  請問哪裡還有22k的公司？
          div(style='text-align:center; font-size:14px; color:gray;  padding-top:10px;') 郭台銘
          button.btn.btn-info(, type='button') Vote
          div(style='text-align: center; padding-top: 10px;') 1
        //- p#response=talk.topic


      //- div(style='width:200px;height:260px;position:relative;float:left;margin-left:5%;')
      //-   img(style='width:200px; height:200px;border-radius:30px;', src='http://www.bottomlineperformance.com/wp-content/uploads/2012/12/facebook-college-hackathon-done1.png',alt='hello!' class='img-rounded;').
      //-   div(style='text-align:center; font-size:16px; color:#5B5B5B;  padding-top:10px;') What is Hackathon?
      //-   button.btn.btn-info(style='left: 34%;', type='button') Vote
      //-   div(style='text-align: center; padding-top: 10px;') 999999
